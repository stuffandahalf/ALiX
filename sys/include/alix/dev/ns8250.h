#ifndef ALIX_DEV_NS8250_H
#define ALIX_DEV_NS8250_H 1

#define NS8250_PORT_COUNT 8

#define NS8250_PORT_DATA 0
#define NS8250_PORT_INT_ENABLE 1
#define NS8250_PORT_DIV_LO 0
#define NS8250_PORT_DIV_HI 1
#define NS8250_PORT_INT_ID 2
#define NS8250_PORT_LINE_CTRL 3
#define NS8250_PORT_MODEM_CTRL 4
#define NS8250_PORT_LINE_STATUS 5
#define NS8250_PORT_MODEM_STATUS 6
#define NS8250_PORT_SCRATCH 7

#define NS8250_LINE_CTRL_BITS_5 0
#define NS8250_LINE_CTRL_BITS_6 1
#define NS8250_LINE_CTRL_BITS_7 2
#define NS8250_LINE_CTRL_BITS_8 3

#define NS8250_LINE_CTRL_STOP_BITS_1 (0 << 2)
#define NS8250_LINE_CTRL_STOP_BITS_2 (1 << 2)

#define NS8250_LINE_CTRL_PARITY_NONE (0 << 3)
#define NS8250_LINE_CTRL_PARITY_ODD (1 << 3)
#define NS8250_LINE_CTRL_PARITY_EVEN (3 << 3)
#define NS8250_LINE_CTRL_PARITY_MARK (5 << 3)
#define NS8250_LINE_CTRL_PARITY_SPACE (7 << 3)

#define NS8250_MODEM_CTRL_DTR (1 << 0)
#define NS8250_MODEM_CTRL_RTS (1 << 1)
#define NS8250_MODEM_CTRL_OUT1 (1 << 2)
#define NS8250_MODEM_CTRL_OUT2 (1 << 3)
#define NS8250_MODEM_CTRL_LOOP (1 << 4)

#define NS8250_LINE_STATUS_DR (1 << 0)
#define NS8250_LINE_STATUS_OE (1 << 1)
#define NS8250_LINE_STATUS_PE (1 << 2)
#define NS8250_LINE_STATUS_FE (1 << 3)
#define NS8250_LINE_STATUS_BI (1 << 4)
#define NS8250_LINE_STATUS_THRE (1 << 5)
#define NS8250_LINE_STATUS_TEMPT (1 << 6)
#define NS8250_LINE_STATUS_IE (1 << 7)

extern struct dev ns8250;

#endif /* ALIX_DEV_NS8250_H */
